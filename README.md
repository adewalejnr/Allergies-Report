# Allergies-Report

This SQL query retrieves unique client information by integrating data from various related tables to provide a detailed overview of client allergies, organizational affiliations, and allergy details. It uses the COALESCE function to ensure a unique client identifier by prioritizing client numbers or IDs. Conditional logic is applied to blank out the allergen, allergy type, start and end dates, and comments when both "NKA" (No Known Allergies) and "NKDA" (No Known Drug Allergies) are marked as "Y." The query further categorizes allergy types into meaningful groups, such as "Medication," "Non-Medication," or "Sensitivity," to improve clarity and utility for reporting.

Allergen data is processed to separate comma-delimited entries into individual rows using the CONNECT BY clause, enabling granular analysis. Various columns, including allergen details, are adjusted based on client-specific conditions, such as setting specific fields to blank for certain client numbers. Dates are formatted for readability, and nested conditional logic ensures the correct representation of client data based on allergy indicators. The query filters results based on dynamic parameters for organizational hierarchy, program association, and client identification, making it highly customizable and adaptable to different use cases. Inline comments throughout the query enhance its maintainability by documenting logic and modifications, ensuring a clear understanding of its functionality and purpose.
